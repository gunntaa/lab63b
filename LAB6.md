# การทดลองที่ 6 เรื่อง การเขียนโปรแกรมสร้างไวไฟแอคเซสพอยต์ (Wifi AP)

## วัตถุประสงค์ 
- เพื่อสร้างแหล่งกระจายสัญญาณไวไฟ หรือไวไฟแอคเซสพอยต์
- เพื่อทดสอบการทำงานไวไฟแอคเซสพอยต์ของไมโครคอนโทรลเลอร์ ESP-01


## อุปกรณ์ที่ใช้
- ไมโครอนโทรลเลอร์ ESP-01
- สายUSB
- ซีเรียลพอร์ต
- คอมพิวเตอร์ 
- สมาร์ทโฟน (เพื่อทดสอบไวไฟแอคเซสพอยต์)

## ข้อมูลเบื้องต้น 
- วิธีใช้ ESP8266 ESP-01 สร้างเครือข่าย WiFi ปล่อย WiFi ของตัวเองนั้น ทำได้โดยการปล่อย WiFi จาก ESP8266 และเลือกใช้ โหมด AP คือให้ ESP8266 ESP-01 สร้างเครือข่าย WiFi ของตัวเองโดยทำหน้าที่เป็นฮับ (เช่นเดียวกับเราเตอร์ WiFi) สำหรับสถานีหนึ่งสถานีหรือมากกว่านั้นเรียกว่าจุดเชื่อมต่อ (AP) ไม่เหมือนกับเราเตอร์ WiFi มันไม่มีส่วนต่อประสานกับเครือข่ายต่อสาย ดังนั้นโหมดการทำงานดังกล่าวจึงเรียกว่า Soft Access Point (soft-AP) ข้อดีคือ IP ที่ส่งให้แสดงผ่านหน้าเว็บ จะเป็น IP เดิม ไม่เปลี่ยนแปลง ข้อเสียคือกำหนดจุดเชื่อมต่อในเครือข่ายไม่เกิน 5 จุด ![image](http://www.lungmaker.com/wp-content/uploads/2020/06/1-3.jpg)
  - ข้อมูลเกี่ยวกับ ไวไฟแอคเซสพอยต์ (Wifi AP) เพิ่มเติม [LungMaker](http://www.lungmaker.com/%E0%B8%A7%E0%B8%B4%E0%B8%98%E0%B8%B5%E0%B9%83%E0%B8%8A%E0%B9%89-esp8266-esp-01-wifi/)


## วิธีการทำการทดลอง 
1. เขียนโปรแกรมกำหนด **SSID** และ **PASSWORD** (ซึ่งในการทดลองนี้ กำหนด SSID เป็น TUENG-ESP-WIFI) จากนั้นเพื่อให้สามารถเชื่อมต่อไวไฟได้ จะต้องกำหนด **IPAddress lpcal_ip** **IPAddress gateway** และ **IPAddress subnet**
> ![image](https://user-images.githubusercontent.com/80879351/112170558-bb5c5080-8c25-11eb-9477-af144576463c.png)
2. อัปโหลดโปรแกรมไวไฟแอคเซสพอยต์ ลงไมโครคอนโทรลเลอร์ด้วยคำสั่ง **pio run -t upload** จากนั้นกดปุ่มรีเซ็ตเพื่อให้สามารถรับข้อมูลได้ 
> ![PNG image](https://user-images.githubusercontent.com/80879351/112098851-0d28ba80-8bd5-11eb-8e40-b03091a84a88.png)
4. เมื่ออัปโหลดสำเร็จแล้ว จากนั้นจะทำการทดสอบด้วยคำสั่ง **pio device monitor**
5. ใช้สมาร์ทโฟนทดสอบเชื่อมต่อกับไวไฟ

## ผลการทดลอง
 - เมื่อเราทำการรันโปรแกรม จากนั้นใช้สมาร์ทโฟนเพื่อทดลองเชื่อมต่อไวไฟ ซึ่งสามารถเชื่อมต่อได้
 > ![image](https://user-images.githubusercontent.com/80879351/112171594-8bfa1380-8c26-11eb-9aab-d6ca55e125db.png)


## อภิปรายผลการทดลอง 
-  จากการทดลองนี้พบว่า เมื่อเราทำการลองโปรแกรมไวไฟแอคเซสพอยต์ลงในบอร์ด ESP-01 แล้วจากนั้นทำการรันเพื่อทดสอบ โดยเราใช้สมาร์ทโฟนทดสอบการเชื่อต่อกับไวไฟ ซึ่งสามารถเชื่อมต่อได้ ดั้งนั้นสรุปว่าเราสามารถใช้ บอร์ด ESP-01 ใช้งานไวไฟแอคเซสพอยต์ได้

#### ตัวอย่าง wifi hotspot
- หากเพื่อนของเราต้อการค้นหาข้อมูลใน Google แต่ไม่มีอินเตอร์เน็ต(mobile data) :confused: ซึ่งเราสามารถใช้โปรแกรมสร้างไวไฟแอคเซสพอยต์ โดยกำหนด **SSID**  **PASSWORD**  **IPAddress lpcal_ip**  **IPAddress gateway** และ **IPAddress subnet** เพื่อแชร์ไวไฟให้กับเพื่อนของเราได้
 > ![image](https://images.app.goo.gl/2QteRFf4TERoj7uz8)


## คำถามหลังการทดลอง
- ข้อเสียของการใช้ ESP-01 สร้างเครือข่าย WiFi ปล่อย WiFi ของตัวเองนั้นคืออะไร :question:
> ตอบ สามารถกำหนดจุดเชื่อมต่อในเครือข่ายได้ไม่เกิน 5 จุด
